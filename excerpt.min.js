"use strict";window.excerptHtml=function(e,t,n){for(var r=(new DOMParser).parseFromString(e,"text/html"),o=!1,i=[],l=[],a=0,d=null,s=document.createTreeWalker(r.body,NodeFilter.SHOW_TEXT,null,null);s.nextNode();)l.push(s.currentNode);for(var u of l)if(u.textContent.trim())if(o)i.indexOf(u.parentNode)>-1?u.textContent="":u.parentNode.remove();else if(a+u.textContent.length>t){o=!0,u.textContent=u.textContent.substr(0,t-a),d=u;for(var x=u.parentNode;x;)i.push(x),x=x.parentNode}else a+=u.textContent.length;if(n){var p=d?d.parentNode:l.slice(-1);p.innerHTML=p.innerHTML+n}return r.body.innerHTML},window.excerptStripHtml=function(e,t){return(new DOMParser).parseFromString(e,"text/html").body.innerText.substr(0,t)};